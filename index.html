<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>CodePen - Castify With Logged account Menu</title>
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Castify - Broadcast Your Passion</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <header>
            <div class="logo">
                <img src="https://i.ibb.co/nCqS9g0/rushfordclean-1.png" alt="Castify Logo" onclick="location.reload();">
            </div>
            <nav class="menu">
                <ul>
                    <li><a href="#">Home</a></li>
                    <li><a href="#">Watch</a></li>
                    <li><a href="#">Viral Videos</a></li> <!-- Added Viral Videos Tab -->
                    <li><a href="https://mostbadgeuser.github.io/Castify_Channels.com/">Channels</a></li>
                    <li><a href="#">Community</a></li>
                </ul>
                <div class="search-container">
                    <input type="text" class="search-input" placeholder="Search...">
                    <button class="search-button"><i class="fas fa-search"></i></button>
                </div>
            </nav>
        </header>

        <!-- User Profile and Notifications Section -->
        <div class="user-menu">
            <img id="profile-pic" class="profile-pic" src="https://i.ibb.co/Ksjms5W/icon.png" alt="Profile Picture">
            <div class="user-info">
                <span class="username-display" id="username-display"></span> <!-- Username displayed here -->
                <span class="nickname-display" id="nickname-display"></span> <!-- Nickname displayed here -->
                <button class="logout-button" onclick="logoutUser()">Log Out</button>
            </div>
            <i class="fas fa-bell notifications-icon"></i> <!-- Notifications Icon -->
        </div>

        <!-- Recently Viewed Section -->
        <section class="recently-viewed">
            <h2>Recently Viewed Videos</h2>
            <div class="video-thumbnails">
                <div class="video-item"><p>Video 1</p></div>
                <div class="video-item"><p>Video 2</p></div>
                <div class="video-item"><p>Video 3</p></div>
                <div class="video-item"><p>Video 4</p></div>
            </div>
        </section>

        <!-- Featured Video Section -->
        <section class="featured">
            <div class="featured-video">
                <h3>Featured Video</h3>
                <div class="video-frame">
                    <p>Metamorphosis</p>
                </div>
            </div>
        </section>

        <!-- Upload Video Section -->
        <section class="upload">
            <h3>Upload</h3>
            <p>Share your video with the world!</p>
            <button onclick="window.location.href='https://mostbadgeuser.github.io/Castify_Upload.com/';">Upload Now</button>
        </section>

        <!-- Footer Section -->
        <footer>
            <p>Â© 2024 Castify - All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Function to check the registration date and redirect if 13 days have passed
        function checkRegistrationDate() {
            const registrationDate = localStorage.getItem('registrationDate');
            if (registrationDate) {
                const registeredOn = new Date(registrationDate);
                const currentDate = new Date();
                const timeDifference = currentDate - registeredOn;
                const daysSinceRegistration = timeDifference / (1000 * 3600 * 24);

                // Check if 13 days have passed
                if (daysSinceRegistration >= 13) {
                    // Redirect to the specified URL
                    window.location.href = 'https://mostbadgeuser.github.io/Castify1.com/';
                }
            }
        }

        // Display username and nickname on load
        function getUserData() {
            const urlParams = new URLSearchParams(window.location.search);
            let username = urlParams.get('username') || localStorage.getItem('username') || 'Anonymous';
            let nickname = urlParams.get('nickname') || localStorage.getItem('nickname') || 'Guest';
            return { username, nickname };
        }

        window.onload = function () {
            const { username, nickname } = getUserData();
            document.getElementById('username-display').textContent = username;
            document.getElementById('nickname-display').textContent = `(${nickname})`;
            checkRegistrationDate(); // Check registration date
        };

        // Example logout function
        function logoutUser() {
            localStorage.clear();
            window.location.reload();
        }
    </script>
</body>
</html>
<!-- partial -->
  <script  src="./script.js"></script>

</body>
</html>
